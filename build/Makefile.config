CFLAGS := -O -Wall -Wmissing-prototypes -g -fvisibility=hidden

PLATFORM := $(shell uname -o)

ifeq ($(PLATFORM),Cygwin)
ifneq ($(CC),gcc)
PLATFORM := Windows
# Modules linked together must use same CC
CC := i686-pc-mingw32-gcc
endif
endif

ifeq ($(PLATFORM),Windows)
DLPREFIX :=
DLSUFFIX := .dll
PIC :=
else
ifeq ($(PLATFORM),Cygwin)
DLPREFIX := cyg
DLSUFFIX := .dll
PIC :=
else
DLPREFIX := lib
DLSUFFIX := .so
PIC := -fPIC
endif
endif
